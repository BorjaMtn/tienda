<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tramitación del Pedido</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>



    <link rel="stylesheet" href="/css/pago.css">
</head>

<body>
    <div class="container">
        <h1>Tramitación del Pedido</h1>

        <!-- Sección de progreso -->
        <div id="progress">

            <ul id="steps-list">
                <li class="step-item" id="step-1-indicator"><i class="bi bi-1-circle"></i> Resumen del Pedido</li>
                <li class="step-item" id="step-2-indicator"><i class="bi bi-2-circle"></i> Detalles del Cliente</li>
                <li class="step-item" id="step-3-indicator"><i class="bi bi-3-circle"></i> Método de Pago</li>

            </ul>
        </div>



        <!-- Paso 1: Detalles del Cliente -->
        <div class="step" id="step-1">
            <h2>Detalles del Cliente</h2>
            <div class="cliente">
                <div class="card datos">
                    <ul class="card-list" id="customer-details">
                        <li>Nombre completo: John Doe</li>
                        <li>Correo electronico: johndoe@example.com</li>
                        <li>Numero de telefono: 123456789</li>
                    </ul>
                </div>
            </div>
            <div class="button-container">
                <button id="edit-details-button" class="boton-azul"><i class="bi bi-pencil"></i> Editar
                    Teléfono</button>
            </div>

            <div id="edit-form-container" class="hidden">
                <h2>Editar Teléfono</h2>
                <form id="edit-details-form">
                    <div class="form-group">
                        <input type="tel" id="edit-telefono" name="edit-telefono" placeholder="Modifica tu numero"
                            required>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="boton-azul">Guardar Cambios</button>
                        <button type="button" id="cancel-edit-button" class="boton-cancelar">Cancelar</button>
                    </div>
                </form>
            </div>

            <h4>Direccion de facturacion</h4>
            <div class="card-container">
                <div class="card">
                    <h6 class="card-title">Nombre completo</h6>
                    <ul class="card-list">
                        <li>País</li>
                        <li>Provincia/Estado</li>
                        <li>Ciudad</li>
                        <li>Código Postal</li>
                        <li>Calle, Número, Piso, Apartamento</li>
                    </ul>
                </div>
                <div class="card">
                    <h6 class="card-title">Nombre completo</h6>
                    <ul class="card-list">
                        <li>País</li>
                        <li>Provincia/Estado</li>
                        <li>Ciudad</li>
                        <li>Código Postal</li>
                        <li>Calle, Número, Piso, Apartamento</li>
                    </ul>
                </div>
            </div>
            <div class="button-container">
                <button id="edit-facturacion-button" class="boton-azul"><i class="bi bi-pencil"></i> Editar Dirección de
                    Envío</button>
                <button type="button" id="open-billing-modal" class="boton-azul"><i class="bi bi-plus-lg"></i> Añadir
                    otra dirección de
                    envío</button>
            </div>

            <div class="copiar">
                <input type="checkbox" id="same-as-billing" name="same-as-billing">
                <label for="same-as-billing">Usar la misma dirección para el envío</label>
            </div>

            <h4>Direccion de envio</h4>
            <div class="card-container">
                <div class="card">
                    <h6 class="card-title">Nombre completo</h6>
                    <ul class="card-list">
                        <li>País</li>
                        <li>Provincia/Estado</li>
                        <li>Ciudad</li>
                        <li>Código Postal</li>
                        <li>Calle, Número, Piso, Apartamento</li>
                    </ul>
                </div>
                <div class="card">
                    <h6 class="card-title">Nombre completo</h6>
                    <ul class="card-list">
                        <li>País</li>
                        <li>Provincia/Estado</li>
                        <li>Ciudad</li>
                        <li>Código Postal</li>
                        <li>Calle, Número, Piso, Apartamento</li>
                    </ul>
                </div>
                <div class="card">
                    <h6 class="card-title">Nombre completo</h6>
                    <ul class="card-list">
                        <li>País</li>
                        <li>Provincia/Estado</li>
                        <li>Ciudad</li>
                        <li>Código Postal</li>
                        <li>Calle, Número, Piso, Apartamento</li>
                    </ul>
                </div>
            </div>

            <div class="button-container">
                <button id="edit-envio-button" class="boton-azul"><i class="bi bi-pencil"></i> Editar Dirección de
                    Envío</button>
                <button type="button" id="open-shipping-modal" class="boton-azul"><i class="bi bi-plus-lg"></i> Añadir
                    otra dirección de
                    envío</button>
            </div>

            <div class="button-group align-right">
                <a href="cesta.html"><button id="volver"><i class="bi bi-arrow-left"></i> Volver</button></a>
                <button id="next-to-step-2">Siguiente <i class="bi bi-arrow-right"></i></button>
            </div>
        </div>

        <!-- Editar dirección de envío -->
        <div id="edit-envio-form-container" class="hidden">
            <h2>Editar Dirección de Envío</h2>
            <form id="edit-envio-form">
                <div class="form-group">
                    <label for="envio-nombre">Nombre completo:</label>
                    <input type="text" id="envio-nombre" name="envio-nombre" required>
                </div>
                <div class="form-group">
                    <label for="envio-pais">País:</label>
                    <input type="text" id="envio-pais" name="envio-pais" required>
                </div>
                <div class="form-group">
                    <label for="envio-provincia">Provincia/Estado:</label>
                    <input type="text" id="envio-provincia" name="envio-provincia" required>
                </div>
                <div class="form-group">
                    <label for="envio-ciudad">Ciudad:</label>
                    <input type="text" id="envio-ciudad" name="envio-ciudad" required>
                </div>
                <div class="form-group">
                    <label for="envio-codigo-postal">Código Postal:</label>
                    <input type="text" id="envio-codigo-postal" name="envio-codigo-postal" required>
                </div>
                <div class="form-group">
                    <label for="envio-calle">Calle, Número, Piso, Apartamento:</label>
                    <input type="text" id="envio-calle" name="envio-calle" required>
                </div>
                <div class="button-group">
                    <button type="submit" class="boton-azul">Guardar Cambios</button>
                    <button type="button" id="cancel-edit-envio-button" class="boton-cancelar">Cancelar</button>
                </div>
            </form>
        </div>

        <!-- Editar dirección de facturación -->
        <div id="edit-facturacion-form-container" class="hidden">
            <h2>Editar Dirección de Facturación</h2>
            <form id="edit-facturacion-form">
                <div class="form-group">
                    <label for="facturacion-nombre">Nombre completo:</label>
                    <input type="text" id="facturacion-nombre" name="facturacion-nombre" required>
                </div>
                <div class="form-group">
                    <label for="facturacion-pais">País:</label>
                    <input type="text" id="facturacion-pais" name="facturacion-pais" required>
                </div>
                <div class="form-group">
                    <label for="facturacion-provincia">Provincia/Estado:</label>
                    <input type="text" id="facturacion-provincia" name="facturacion-provincia" required>
                </div>
                <div class="form-group">
                    <label for="facturacion-ciudad">Ciudad:</label>
                    <input type="text" id="facturacion-ciudad" name="facturacion-ciudad" required>
                </div>
                <div class="form-group">
                    <label for="facturacion-codigo-postal">Código Postal:</label>
                    <input type="text" id="facturacion-codigo-postal" name="facturacion-codigo-postal" required>
                </div>
                <div class="form-group">
                    <label for="facturacion-calle">Calle, Número, Piso, Apartamento:</label>
                    <input type="text" id="facturacion-calle" name="facturacion-calle" required>
                </div>
                <div class="button-group">
                    <button type="submit" class="boton-azul">Guardar Cambios</button>
                    <button type="button" id="cancel-edit-facturacion-button" class="boton-cancelar">Cancelar</button>
                </div>
            </form>
        </div>

        <!-- Modal Dirección de Envío -->
        <div id="shipping-modal" class="modal">
            <div class="modal-content">
                <span class="close" id="close-shipping-modal">&times;</span>
                <h2>Añadir Dirección de Envío</h2>
                <form id="shipping-address-form">
                    <div class="form-group">
                        <label for="shipping-nombre">Nombre completo:</label>
                        <input type="text" id="shipping-nombre" name="shipping-nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="shipping-pais">País:</label>
                        <input type="text" id="shipping-pais" name="shipping-pais" required>
                    </div>
                    <div class="form-group">
                        <label for="shipping-provincia">Provincia/Estado:</label>
                        <input type="text" id="shipping-provincia" name="shipping-provincia" required>
                    </div>
                    <div class="form-group">
                        <label for="shipping-ciudad">Ciudad:</label>
                        <input type="text" id="shipping-ciudad" name="shipping-ciudad" required>
                    </div>
                    <div class="form-group">
                        <label for="shipping-codigo-postal">Código Postal:</label>
                        <input type="text" id="shipping-codigo-postal" name="shipping-codigo-postal" required>
                    </div>
                    <div class="form-group">
                        <label for="shipping-calle">Calle, Número, Piso, Apartamento:</label>
                        <input type="text" id="shipping-calle" name="shipping-calle" required>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="boton-azul">Guardar Dirección de Envío</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal Dirección de Facturación -->
        <div id="billing-modal" class="modal">
            <div class="modal-content">
                <span class="close" id="close-billing-modal">&times;</span>
                <h2>Añadir Dirección de Facturación</h2>
                <form id="billing-address-form">
                    <div class="form-group">
                        <label for="shipping-nombre">Nombre completo:</label>
                        <input type="text" id="shipping-nombre" name="shipping-nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="billing-pais">País:</label>
                        <input type="text" id="billing-pais" name="billing-pais" required>
                    </div>
                    <div class="form-group">
                        <label for="billing-provincia">Provincia/Estado:</label>
                        <input type="text" id="billing-provincia" name="billing-provincia" required>
                    </div>
                    <div class="form-group">
                        <label for="billing-ciudad">Ciudad:</label>
                        <input type="text" id="billing-ciudad" name="billing-ciudad" required>
                    </div>
                    <div class="form-group">
                        <label for="billing-codigo-postal">Código Postal:</label>
                        <input type="text" id="billing-codigo-postal" name="billing-codigo-postal" required>
                    </div>
                    <div class="form-group">
                        <label for="billing-calle">Calle, Número, Piso, Apartamento:</label>
                        <input type="text" id="billing-calle" name="billing-calle" required>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="boton-azul">Guardar Dirección de Facturación</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Paso 1: Resumen del Pedido -->
        <div class="step" id="step-2">
            <div class="container">
                <div class="order-summary" id="order-summary">

                    <div class="summary-section">
                        <h3>Detalles del Pedido</h3>
                        <ul class="summary-list">
                            <li><strong>Nombre del Cliente:</strong> John Doe</li>
                            <li><strong>Fecha del Pedido:</strong> 23 de Julio, 2024</li>
                            <li><strong>Método de Envío:</strong> Envío Estándar</li>
                        </ul>
                    </div>

                    <div class="summary-section">
                        <h3>Artículos en el Pedido</h3>
                        <table class="order-items-table">
                            <thead>
                                <tr>
                                    <th>Imagen</th>
                                    <th>Nombre</th>
                                    <th>Cantidad</th>
                                    <th>Precio Unitario</th>
                                    <th>Subtotal</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><img src="img/iphone15pro-digitalmat-gallery-2-202309-removebg-preview.png"
                                            alt=""></td>
                                    <td>Smartphone</td>
                                    <td>x1</td>
                                    <td>1.200,00€</td>
                                    <td>1.200,00€</td>
                                </tr>
                                <tr>
                                    <td><img src="img/macbook-pro-14-removebg-preview.png" alt=""></td>
                                    <td>Accesorio</td>
                                    <td>x2</td>
                                    <td>20,00€</td>
                                    <td>40,00€</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="summary-section">
                        <h3>Resumen de Costes</h3>
                        <ul class="cost-summary">
                            <li><strong>Subtotal:</strong> 1.240,00€</li>
                            <li><strong>IVA (21%):</strong> 260,40€</li>
                            <li><strong>Envío:</strong> 10,00€</li>
                            <li><strong><u>Total:</u></strong> 1.510,40€</li>
                        </ul>
                    </div>
                </div>
            </div>


            <div class="button-group">
                <button id="prev-to-step-1"><i class="bi bi-arrow-left"></i> Anterior</button>
                <button id="next-to-step-3">Siguiente <i class="bi bi-arrow-right"></i></button>
            </div>
        </div>

        <!-- Paso 3: Método de Pago -->
        <div class="step" id="step-3">
            <h2>Método de Pago</h2>
            <form id="payment-form">
                <label for="payment-method">Método de Pago:</label>
                <select id="payment-method" name="payment-method" required>
                    <option value="credit-card">Tarjeta de Crédito</option>
                    <option value="paypal">PayPal</option>
                </select>

                <!-- Campo para Tarjeta de Crédito -->
                <div id="credit-card-section" class="payment-section">
                    <h3>Pago con Tarjeta de Crédito</h3>
                    <label for="card-name">Nombre del titular:</label>
                    <input type="text" id="card-name" name="card-name" required placeholder="Nombre y apellidos">

                    <label for="card-number">Número de Tarjeta:</label>
                    <input type="text" id="card-number" name="card-number" required placeholder="1234 5678 9012 3456">

                    <div class="form-row">
                        <div class="form-group">
                            <label for="card-expiry">Fecha de Expiración:</label>
                            <input type="text" id="card-expiry" name="card-expiry" required placeholder="MM/AA">
                        </div>
                        <div class="form-group">
                            <label for="card-cvc">CVC:</label>
                            <input type="text" id="card-cvc" name="card-cvc" required placeholder="123">
                        </div>
                    </div>

                </div>

                <!-- Campo para PayPal -->
                <div id="paypal-section" class="payment-section">
                    <h3>Pago con PayPal</h3>
                    <p>Haz clic en el botón a continuación para ser redirigido a PayPal para completar el pago.</p>
                    <button id="paypal-button-container" type="button" class="boton-azul">Pagar con PayPal</button>
                </div>
            </form>
            <div class="button-group">
                <button id="prev-to-step-2"><i class="bi bi-arrow-left"></i> Anterior</button>
                <button id="confirm-order">Confirmar Pedido <i class="bi bi-check-circle"></i></button>
            </div>
        </div>


        <!-- Confirmación de Pedido -->
        <div class="step" id="step-4">
            <h2>Confirmación del Pedido</h2>
            <p>¡Gracias por su pedido! Su pedido ha sido confirmado.</p>

            

            <a href="generarPDF.html" target="_blank" rel="noopener noreferrer"><button class="boton-azul"><i
                        class="bi bi-download"></i> Descargar resumen del pedido</button></a>

            <a href="index.html"><button class="boton-azul">Volver al inicio</button></a>
        </div>
    </div>

    <script src="../js/pago.js"></script>
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID&currency=USD"></script>

</body>

</html>